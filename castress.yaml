### DML ###

# Keyspace Name
keyspace: stresscql

# The CQL for creating a keyspace (optional if it already exists)
keyspace_definition: |
  CREATE KEYSPACE stresscql WITH replication = {'class': 'NetworkTopologyStrategy', 'datacenter1': '3'}
# Table name
table: restaurants

# The CQL for creating a table you wish to stress (optional if it already exists)
table_definition: |
  CREATE TABLE restaurants (
        id text,
        name text,
        date text,
        photoobj text,
        title text,
        body text,
        PRIMARY KEY(id)
  )
### Column Distribution Specifications ###

columnspec:
  - name: id
    size: gaussian(1..100) #domain names are relatively short
    population: uniform(1..10M) #10M possible domains to pick from

  - name: name
    cluster: uniform(1..50) #under each domain we will have max 1000 posts

  - name: date
    size: fixed(9)

  - name: photoobj #titles shouldn't go beyond 200 chars
    size: gaussian(10..5000)

### Batch Ratio Distribution Specifications ###

insert:
  partitions: fixed(1) # Our partition key is the domain so only insert one per batch

  select: fixed(10)/10

  batchtype: UNLOGGED # Unlogged batches

#
# A list of queries you wish to run against the schema
#
queries:
  all:
    cql: select * from restaurants where id = ?
    fields: samerow
  name:
    cql: select name where id = ?
    fields: samerow
